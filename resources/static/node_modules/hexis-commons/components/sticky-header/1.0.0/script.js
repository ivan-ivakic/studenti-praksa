App.stickyNav = {
  selector: '[data-stickyHeader]',
  autohide: ($('[data-stickyHeader]').attr('data-autohide')==='true'),
  offsetTrigger: 120,
  visible: false,


  show: function(){
    $(this.selector).attr('data-stuck', 'true');
    this.visible = true;
  },


  hide: function(){
    $(this.selector).attr('data-stuck', 'false');
    this.visible = false;
  },


  check: function(){
    if(
      ux.viewport.visible.from > this.offsetTrigger && this.autohide === false ||
      ux.viewport.visible.from > this.offsetTrigger && ux.scroll.direction === 'up' && this.autohide === true ||
      ux.viewport.visible.from > this.offsetTrigger && ux.events.userHasScrolled === false
    ){
      this.show();
    } else {
      this.hide();
    }
  }
};


// Check whether to show the navigation at start...
queue.pageLoad.push(function(){
  App.stickyNav.check();
});


// Continously check while scrolling...
App.lightScroll(function(){
  App.stickyNav.check();
}, 30);
