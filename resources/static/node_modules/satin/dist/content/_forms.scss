@mixin st-form($formField-gap:1em) {


  .form {
    // @include rem(margin-top, -($formField-gap));

    &_fieldset {
      margin: ($formField-gap * 2) 0 0 0;
      padding: ($formField-gap * 2) 0 0 0;
      border: 0;
      border-top: 1px solid $neutral-light;

      &:first-child {
        margin-top: 0;
        padding-top: 0;
        border-top: 0;
      }
    }


    &_item {
      position:relative;
    }

  }


  /*————————————————————————————————————————————————————————————————————————————————
    Label
  ————————————————————————————————————————————————————————————————————————————————*/
  .formLabel {
    display: inline-block;
    padding-bottom: ($input-height/5);
    font-size: $label-font-size;
    font-weight: $label-font-weight;
    line-height: 1.1;
    color: $label-font-color;

    &.-error {
      color: $negative;
    }
  }


  /*————————————————————————————————————————————————————————————————————————————————
    Field wrapper
  ————————————————————————————————————————————————————————————————————————————————*/
  .formField{
    position: relative;
  }


    /*————————————————————————————————————————————————————————————————————————————————
      Global input styling
    ————————————————————————————————————————————————————————————————————————————————*/
    .formField_input, .formField_select, .formField_textarea, .customSelect_overlay {
      display: block;
      margin: 0;
      padding: 0 .65em;
      width: 100%;
      height: $input-height;
      font-size: $input-font-size;
      font-family: $body-font-family;
      background: $input-background-color;
      border: 1px solid $input-border-color;
      border-radius: $input-radius;

      -webkit-tap-highlight-color: rgba(255, 255, 255, 0);
      -webkit-tap-highlight-color: transparent;

      &:focus {
        @extend %input-focus;
      }

      &.-error {
        border-color: $negative;
        background: rgba($negative, 0.04);
      }

      &.-success {
        border-color: $positive;
      }
    }

    // Focus state for input fields
    %input-focus {
      outline: 0;
      border-color: $input-focus-color !important;
      box-shadow: 0 0 4px 0 tint($input-focus-color, 50%);
    }


    /*————————————————————————————————————————————————————————————————————————————————
      Regular Input
    ————————————————————————————————————————————————————————————————————————————————*/
    .formField_input {
      -webkit-appearance:none;
    }


    /*————————————————————————————————————————————————————————————————————————————————
      Select box
    ————————————————————————————————————————————————————————————————————————————————*/
    .formField_select {}

    .customSelect {
      min-height: $input-height;

      &_select {
        position: relative;
        z-index: 2;
        @include opacity(0);

        &:focus ~ .customSelect_overlay {
          @extend %input-focus;
        }
      }

      &_overlay {
        position: absolute;
        z-index: 1;
        top: 0;
        left: 0;
        background: red;
        line-height: ($input-height / 1.05);

        @include large {
          line-height: ($input-height / 1.05);
        }
      }

      @at-root {
        .no-js &_select {
          @include opacity(1);
        }
        .no-js &_overlay {
          display: none;
        }
      }
    }


    /*————————————————————————————————————————————————————————————————————————————————
      Select box
    ————————————————————————————————————————————————————————————————————————————————*/
    .formField_textarea {
      padding: .65em;
      height: auto;
      min-height: ($input-height * 4);
      resize: vertical;

      @include medium {
        min-height: ($input-height * 2);
      }
    }


  /*————————————————————————————————————————————————————————————————————————————————
    Item States
  ————————————————————————————————————————————————————————————————————————————————*/
  .form_item.-error {
    .formLabel {
      @extend .formLabel.-error !optional;
    }
    .formField_input {
      @extend .formField_input.-error !optional;
    }
  }

  .form_item.-success {
    .formLabel {
      @extend .formLabel.-success !optional;
    }
    .formField_input {
      @extend .formField_input.-success !optional;
    }
  }


}
